---
title: A - HBase概念
date: 2017-10-24 19:24:06
tags:
	- HBase
---
HBase是一个典型的NoSQL（Not Only SQL）数据库，主要用于存储半结构化和非结构化的松散数据（因为在HBase中，为空的列是不占用存储空间的）。HBase的单表可以有百亿行，百万列，且其依靠横向扩展（增加服务器）来增加计算和存储能力，弹性扩展（可以在不停止现有服务的前提下，随时添加或者减少节点）。<!--more-->


1)、HBase是一种列式存储的分布式数据库。什么叫列式存储？

> 传统的行式数据库按行读取，在没有建立索引的情况下，每次获取一行或者多行的数据时，即使选择只涉及某几列，也会读取所有列数据。如果处理查询时需要用到大部分的数据列，像OLTP（OnlineTransaction Processing，联机事务处理），如银行交易等，适合采用这种方式。
而OLAP（Online Analytical Processing，联机分析处理），如统计报表等，涉及大量查询或批量DML操作（几百万甚至几十亿个数据行），且操作往往只关心少数几个数据列时，列式数据库将会发挥作用，效率要好于行数据库。列式数据库通过将同一个数据列的各个值存放在一起，使得在查询少数几个字段时，能大大减少读取的数据量。
HBase是一种列式数据库，物理存储上，HBase的表是按列分开存储的。且为了提高读取效率，可以在HBase中将多个经常访问的数据列的值存放在一起，形成一个列族（Column Family）。一个列族的数据存放在一个或多个HFile中，且一个列族的数据会被同一个Region管理。

2)、HBase是无模式的数据库。与传统定义模式的RDBMS数据库有什么区别？

> [a] HBase的模式结构包括表、RowKey（行键），ColumnFamily（列族）、Qualifier（列），TimeStamp（时间版本）。在表确定的情况下，<行键>可以确定一行数据，<行键、列族、列>三个维度可以确定一个单元格数据，加上时间版本，则可以确定某一个具体的数据。
[b] HBase是无模式数据库，因为其在创建表时不需要像传统的关系型数据库那样，要提前定义好列名、类型等元数据，只需要提前定义列族（至少指定一个列族）。后期写入数据时，可随时增加列，当然也可以增加列族。
[c] HBase支持行级事务，0.94版本后，可以支持将多个PUT/DELETE在同一个事务中一起原子性执行，但是这些操作也得是针对某一行的。不同行，不同表间的一些列操作是无法放在一个事务中的。

3)、HBase使用场景？
> [a] 对于那些数据结构字段无法确定或者杂乱无章的，很适合采用HBase。因为其可以根据需要动态增加，且空列不占空间；
[b] 对于超大数据量的存储，HBase也很适合。不用考虑读写分离、分表、分库，我们只需要增加机器，HBase会自动做水平切分扩展。且与HDFS、MapReduce集合，保证数据存储的可靠性和数据分析的高性能；
